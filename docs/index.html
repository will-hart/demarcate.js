<!DOCTYPE html>
<html>
    <head>
        <title>demarcate.js WYSIWYG Markdown Editor Documentation</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" media="all" href="doc-style.css" />
    </head>
    <body>
        <div id="container">
            <div class="background highlight"></div>
            <table cellpadding="0" cellspacing="0">
                <tbody>
                    <tr>
                        <td class="docs">
                            <div class="pilwrap" id="demarcate.js">
                                <h1>
                                    <a href="#demarcate.js" class="pilcrow">&#182;</a>
                                    demarcate.js 2.0
                                </h1>
                            </div>
                            <div class="pilwrap" id="a-wysiwyg-markdown-editor">
                                <h3>
                                    <a href="#a-wysiwyg-markdown-editor" class="pilcrow">&#182;</a>
                                    <em>A WYSIWYG Markdown Editor from <a href="http://williamhart.info/">Will Hart</a></em>
                                </h3>
                            </div>

                            <p>
                                demarcate.js is an MIT licensed, javascript library for editing web pages "in place" and genearting
                                Markdown from the resulting HTML.  
                            </p>
                            <p>
                                This documentation is for developers and describes how to install and utilise demarcate.js. 
							</p>
							<p class="well">
								<strong>
									Note that there were some API changes in version 2.0.  If you are upgrading from 1.1.4 or 
									earlier please review the documentation carefully.
								</strong>
                            </p>
                            <ul>
                                <li>
                                    <p>
                                        <strong><a href="#installation">Installation</a></strong>: 
                                        the files you need to include to install demarcate.js in your web page.
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <strong><a href="#methods">Methods</a></strong>: the methods demarcate.js exposes.
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <strong><a href="#events">Events</a></strong>: the events demarcate.js exposes.
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <strong><a href="#styling">Styling</a></strong>: how to override the deault editor styles.
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        <strong><a href="deploy.html">Deployment</a></strong>: how to rebuild the minified docs.
                                    </p>
                                </li>
                            </ul>
                        </td>
                        <td class="code highlight">&nbsp;</td>
                    </tr>



                    <tr>
                        <td class="docs">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="installation">
                                        <h2>
                                            <a href="#installation" class="pilcrow">&#182;</a>
                                            Installation
                                        </h2>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        To install textr in a web page you need to include one CSS file (<code>demarcate.min.css</code>) and 
										one javascript file (<code>demarcate.min.js</code>).  demarcate.js has <strong>one optional</strong>
										dependency (<a href="http://bitwalker.github.io/keys.js/">keys.js</a> can be used for shortcut keys).
                                    </p>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">
                            <div class="highlight">
                                <pre><span class="c">&lt;!-- include demarcate like this: --&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;css/demarcate.min.css&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;js/demarcate.min.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="c">&lt;!-- Optionally include keys.js - http://bitwalker.github.io/keys.js/ --&gt;</span>
                                </pre>
                            </div>
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="docs">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="methods">
                                        <h2>
                                            <a href="#methods" class="pilcrow">&#182;</a>
                                            Methods
                                        </h2>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        demarcate.js setups and tears down editors using two main methods - 
										<code>enable()</code> and <code>disable()</code>.
                                        Only one editor can be active at any once.
                                    </p>
                                    <p>
                                        A third method, <code>parse()</code> is used to retrieve the HTML from a given element.
                                    </p>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">&nbsp;</td>
                    </tr>


                    <tr>
                        <td class="docs">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="demarcate.parse">
                                        <h3>
                                            <a href="#demarcate.parse" class="pilcrow">&#182;</a>
                                            demarcate.parse
                                        </h3>
                                        <h5>Since v2.0</h5>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        Takes the given DOM element and converts the HTML to Markdown.
                                        The given element does not have to be the demarcate editor.  
                                    </p>
                                    <p>
                                        If no element is provided, the Markdown from the current editor will be 
                                        returned.
                                    </p>
                                </div>
                                <div class="details">
                                    <div class="dox_tag_title">Params</div>
                                    <div class="dox_tag_detail">
                                        <span class="dox_tag_name">elem</span>
                                        <span class="dox_type">DOM element</span>
                                        <span>The top level DOM object you want to edit with demarcate.js</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">
                            <div class="highlight">
                                <pre><span class="c1">// get the Markdown from the current editor</span>
<span class="n">demarcate</span><span class="p">.</span><span class="n">parse</span><span class="p">();</span>
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td class="docs">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="demarcate.disable">
                                        <h3>
                                            <a href="#demarcate.disable" class="pilcrow">&#182;</a>
                                            demarcate.disable
                                        </h3>
                                        <h5>Since v1.1.3</h5>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        disables the demarcate.js editor, unbinding all event handlers and removing all
                                        demarcate.js css classes.  Allows toggling of editing on and off.
                                    </p>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">
                            <div class="highlight">
                                <pre><span class="c1">// Disables the current demarcate editor</span>
<span class="n">demarcate</span><span class="p">.</span><span class="n">disable</span><span class="p">();</span></pre>
                            </div>
                        </td>
                    </tr>


                    <tr>
                        <td class="docs">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="demarcate.enable">
                                        <h3>
                                            <a href="#demarcate.enable" class="pilcrow">&#182;</a>
                                            demarcate.enable
                                        </h3>
                                        <h5>Since v1.1.3</h5>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        take a DOM element and set it up for demarcate editing.  
                                    </p>
                                </div>
                                <div class="details">
                                    <div class="dox_tag_title">Params</div>
                                    <div class="dox_tag_detail">
                                        <span class="dox_tag_name">elem</span>
                                        <span class="dox_type">DOM element</span>
                                        <span>The top level DOM object you want to edit with demarcate.js</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">
                            <div class="highlight">
                                <pre><span class="n">demarcate</span><span class="p">.</span><span class="n">enable</span><span class="p">(</span><span class="c">$</span><span class="p">(</span><span class="s">&quot;#dom_to_edit&quot;</span><span class="p">);</span></pre>
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td class="docs">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="demarcate.isEnabled">
                                        <h3>
                                            <a href="#demarcate.isEnabled" class="pilcrow">&#182;</a>
                                            demarcate.isEnabled
                                        </h3>
                                        <h5>Since v1.1.4</h5>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        Helps determine if demarcate.js is "enabled" meaning that it is set up for 
                                        blocks to be clicked on and edited.  Calling <code>demarcate.enable()</code>
                                        sets this state to true.
                                    </p>
                                </div>
                                <div class="details">
                                    <div class="dox_tag_title">Return</div>
                                    <div class="dox_tag_detail">
                                        <span class="dox_type">boolean</span>
                                        <span><code>true</code> if currently enabled for editing, <code>false</code> otherwise</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">
                            <div class="highlight">
                                <pre><span class="c">// for instance</span>
<span class="k">if</span> <span class="p">(</span><span class="n">demarcate</span><span class="p">.</span><span class="n">isEnabled</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">demarcate</span><span class="p">.</span><span class="n">disable</span><span class="p">();</span>
<span class="p">}</span></pre>
                            </div>
                        </td>
                    </tr>
					
					
                    <tr>
                        <td class="docs deprecated">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="demarcate.demarcate">
                                        <h3>
                                            <a href="#demarcate.demarcate" class="pilcrow">&#182;</a>
                                            demarcate.demarcate
                                        </h3>
                                        <h5>Since v1.0</h5>
                                        <h5 class="deprecation-notice">Deprecated v2.0</h5>
										<h5>Removed in future release</h5>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        Takes the given jQuery DOM element and converts the HTML to Markdown.
                                        The given element does not have to be the demarcate editor.  
                                    </p>
                                    <p>
                                        If no element is provided, the Markdown from the current editor will be 
                                        returned.
                                    </p>
                                </div>
                                <div class="details">
                                    <div class="dox_tag_title">Params</div>
                                    <div class="dox_tag_detail">
                                        <span class="dox_tag_name">elem</span>
                                        <span class="dox_type">jQuery object</span>
                                        <span>The top level DOM object you want to edit with demarcate.js</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">
                            <div class="highlight">
                                <pre><span class="c1">// DEPRECATED - use demarcate.parse() instead</span>

<span class="c1">// get the Markdown from the current editor</span>
<span class="c1">// demarcate.demarcate()</span>

<span class="c1">// get the Markdown for any element</span>
<span class="c1">// demarcate($("#any_element"));</span>
<span class="c1">// $("#any_element").demarcate();</span></pre>
                            </div>
                        </td>
                    </tr>
					
                    <tr>
                        <td class="docs deprecated">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="demarcate.isActive">
                                        <h3>
                                            <a href="#demarcate.isActive" class="pilcrow">&#182;</a>
                                            demarcate.isActive
                                        </h3>
                                        <h5>Since v1.1.4</h5>
                                        <h5 class="deprecation-notice">Deprecated v2.0</h5>
										<h5>Removed in future release</h5>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        Helps determine if demarcate.js is currently editing a block.  
                                    </p>
                                </div>
                                <div class="details">
                                    <div class="dox_tag_title">Return</div>
                                    <div class="dox_tag_detail">
                                        <span class="dox_type">boolean</span>
                                        <span><code>true</code> if currently editing a block, <code>false</code> otherwise</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">
                            <div class="highlight">
                                <pre><span class="c">// DEPRECATED AND REMOVED IN VERSION 2.0</span>
<span class="c">// for instance</span>
<span class="c">//if (demarcate.isActive()) {</span>
<span class="c">//    demarcate.save();</span>
<span class="c">//}</span></pre>
                            </div>
                        </td>
                    </tr>


					
					
					
					
					
					
					
					
					
					
					<!-- Events -->

                    <tr>
                        <td class="docs">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="events">
                                        <h2>
                                            <a href="#events" class="pilcrow">&#182;</a>
                                            Events
                                        </h2>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        demarcate.js triggers several events to allow your web page to respond 
                                        to actions made by the user or editor.  You can bind to these events
										using either native javascript, or through a library such as jQuery.
                                    </p>
									<p>
										jQuery examples are provided below for simplicity, however you can also
										use the native <code>addEventListener</code> approach to bind to all these 
										events.
									</p>
									<p>
										<strong>Note</strong> - in version 2.0 event names were changed from underscore
										to camel case convention.
									</p>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">&nbsp;</td>
                    </tr>



                    <tr>
                        <td class="docs">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="demarcateEditorClosed">
                                        <h3>
                                            <a href="#demarcateEditorClosed" class="pilcrow">&#182;</a>
                                            demarcateEditorClosed
                                        </h3>
                                        <h5>Since v1.0</h5>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        Triggered when an editor is closed.
                                </div>
                                <div class="details">
                                    <div class="dox_tag_title">Raised When</div>
                                    <div class="dox_tag_detail">
                                        <span>An editor is closed</span>
                                    </div>

                                    <div class="dox_tag_title">Provides</div>
                                    <div class="dox_tag_detail">
                                        <span class="dox_tag_name">event.detail.editor</span>
                                        <span class="dox_type">DOM element</span>
                                        <span>The editor DOM element</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">
                            <div class="highlight">
                                <pre><span class="c">// bind to the editor closed event and push the resulting Markdown to a server</span>
<span class="c">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;demarcateEditorClosed&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c">// use 'e.detail.editor' to access the DOM element, or just use the helper methods:</span>
    <span class="kd">var</span> <span class="nx">op</span> <span class="o">=</span> <span class="nx">demarcate</span><span class="p">.</span><span class="nx">parse</span><span class="p">();</span>
    <span class="nx">ajax_request_to_server</span><span class="p">(op);</span>
<span class="p">});</span></pre>
                            </div>
                        </td>
                    </tr>


                    <tr>
                        <td class="docs">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="demarcateEditorEnabled">
                                        <h3>
                                            <a href="#demarcateEditorEnabled" class="pilcrow">&#182;</a>
                                            demarcateEditorEnabled
                                        </h3>
                                        <h5>Since v1.0</h5>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        Triggered when an editor is enabled using <code>demarcate.enable()</code>
                                    </p>
                                </div>
                                <div class="details">
                                    <div class="dox_tag_title">Raised When</div>
                                    <div class="dox_tag_detail">
                                        <span>An DOM element is enabled for demarcate.js editing</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">
                            <div class="highlight">
								<pre><span class="c">// bind to the editor enabled event and push the resulting Markdown to a server</span>
<span class="c">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;demarcateEditorEnabled&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c">// use 'e.detail.editor' to access the DOM element, or just use the helper methods:</span>
    <span class="kd">var</span> <span class="nx">op</span> <span class="o">=</span> <span class="nx">demarcate</span><span class="p">.</span><span class="nx">parse</span><span class="p">();</span>
    <span class="nx">ajax_request_to_server</span><span class="p">(op);</span>
<span class="p">});</span></pre>
							</div>
                        </td>
                    </tr>


                    <tr>
                        <td class="docs">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="demarcateEditorUpdated">
                                        <h3>
                                            <a href="#demarcateEditorUpdated" class="pilcrow">&#182;</a>
                                            demarcateEditorUpdated
                                        </h3>
                                        <h5>Since v1.0</h5>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        Triggered when an editor has changes made.  This triggers either after five seconds once a change
										has been made or after 10 changes (i.e. keypresses, mouse clicks, etc).
                                    </p>
                                </div>
                                <div class="details">
                                    <div class="dox_tag_title">Raised When</div>
                                    <div class="dox_tag_detail">
                                        <span>The editor becomes "dirty" i.e. has changed.</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">
                            <div class="highlight">
								<pre><span class="c">// bind to the editor updated event and push the resulting Markdown to a server</span>
<span class="c">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;demarcateEditorUpdated&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c">// use 'e.detail.editor' to access the DOM element, or just use the helper methods:</span>
    <span class="kd">var</span> <span class="nx">op</span> <span class="o">=</span> <span class="nx">demarcate</span><span class="p">.</span><span class="nx">parse</span><span class="p">();</span>
    <span class="nx">ajax_request_to_server</span><span class="p">(op);</span>
<span class="p">});</span></pre>
							</div>
                        </td>
                    </tr>

                    <tr>
                        <td class="docs">
                            <div class="dox">
                                <div class="summary">
                                    <div class="pilwrap" id="styling">
                                        <h2>
                                            <a href="#styling" class="pilcrow">&#182;</a>
                                            Styling
                                        </h2>
                                    </div>
                                </div>
                                <div class="body">
                                    <p>
                                        demarcate.js uses a stylesheet for editor styles.  It uses two main classes
										for displaying the menu:
										
										<ul>
											<li><code>.demarcate-menu</code></li>
											<li><code>.demarcate-menu-button</code></li>
										</ul>
                                    </p>
                                    <p>
                                        To customise the menu placement and style simply override these styles in a CSS stylesheet.
                                    </p>
									<p>
										All other styles (e.g. typography and layout) are taken from the CSS stylesheets
										of your web page.
									</p>
                                </div>
                            </div>
                        </td>
                        <td class="code highlight">&nbsp;</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>